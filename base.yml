openapi: 3.1.0
info:
  title: Promo Code Service API
  version: 1.0.0
  description: |
    API for managing and validating promo codes
    Avaiable files to explore:
      - ../base.yml
      - ../promo2.yml
      - ../promo.yml
      - ../billing.yml
      - ../subscriptions.yml


servers:
  - url: https://api.yourcinema.example/v1
    description: Основной продакшн сервер
  - url: https://staging-api.yourcinema.example/v1
    description: Стейджинг для тестов

security:
  - api_key_auth: []

# stitch in path sets:
paths:
  /subscribe:
    $ref: './subscriptions.yml#/paths/~1subscribe'
  /subscribe/{subscribe_order_id}:
    $ref: './subscriptions.yml#/paths/~1subscribe~1{subscribe_order_id}'
  /promo:
    $ref: './promo.yml#/paths/~1promo'
  /promo/{promo_id}:
    $ref: './promo.yml#/paths/~1promo~1{promo_id}'
  /promo/apply:
    $ref: './promo.yml#/paths/~1promo~1apply'
  /promo/revert:
    $ref: './promo.yml#/paths/~1promo~1revert'
  /promo/generate:
    $ref: './promo.yml#/paths/~1promo~1generate'
  /api/v1/payments:
    $ref: './billing.yml#/paths/~1api~1v1~1payments'
